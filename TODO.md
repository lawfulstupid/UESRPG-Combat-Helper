Implement proper (de)serialisation when interacting with localstorage