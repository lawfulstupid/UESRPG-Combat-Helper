<app-dialog title="New NPC" [actions]="actions" cancel="Close" width="15vw">
  <mat-form-field *ngIf="!newTemplate">
    <mat-select [(ngModel)]="templateKey" placeholder="Class" (selectionChange)="onSelectTemplate()">
      <mat-option>
        <ngx-mat-select-search
          placeholderLabel="Search..."
          noEntriesFoundLabel="No results"
          ngModel (ngModelChange)="filterTemplates($event)"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let template of filteredTemplateList" [value]="template.key">
        {{template.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field *ngIf="newTemplate">
    <input matInput [(ngModel)]="templateKey" placeholder="Template Key" autocomplete="false"/>
  </mat-form-field>
  <mat-form-field *ngIf="newTemplate">
    <input matInput [(ngModel)]="templateName" placeholder="Template Name" autocomplete="false" (ngModelChange)="onTemplateNameChange()"/>
  </mat-form-field>
  <mat-form-field >
    <input matInput [(ngModel)]="name" placeholder="NPC Name" autocomplete="false" (ngModelChange)="nameDirty = true"/>
  </mat-form-field>
</app-dialog>